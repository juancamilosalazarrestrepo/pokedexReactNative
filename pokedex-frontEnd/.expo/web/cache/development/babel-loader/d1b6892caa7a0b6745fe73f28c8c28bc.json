{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useEffect } from \"react\";\n\nvar useRepositories = function useRepositories() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      repositories = _useState2[0],\n      setRepositories = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      offSet = _useState4[0],\n      setOffSet = _useState4[1];\n\n  var fetchRepositories = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 150;\n      var uri = \"https://pokeapi.co/api/v2/\";\n      var response = yield globalThis.fetch(uri + \"pokemon?limit=\" + limit + \"&offset=\" + offSet);\n      var json = yield response.json();\n      var promises = json.results.map(function () {\n        var _ref2 = _asyncToGenerator(function* (pokemon) {\n          var res = yield globalThis.fetch(pokemon.url);\n          var data = yield res.json();\n          return data;\n        });\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n      var results = yield Promise.all(promises);\n      setRepositories(results);\n    });\n\n    return function fetchRepositories() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchRepositories();\n  }, []);\n  return repositories;\n};\n\nexport default useRepositories;","map":{"version":3,"names":["useState","useEffect","useRepositories","repositories","setRepositories","offSet","setOffSet","fetchRepositories","limit","uri","response","globalThis","fetch","json","promises","results","map","pokemon","res","url","data","Promise","all"],"sources":["C:/Users/B2Btic/Documents/CursoReactNative/calificar-repos/src/hooks/useRepositories.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst useRepositories = () => {\r\n  const [repositories, setRepositories] = useState(null);\r\n  const [offSet, setOffSet] = useState(0);\r\n  const fetchRepositories = async (limit = 150) => {\r\n    let uri = \"https://pokeapi.co/api/v2/\";\r\n\r\n    const response = await globalThis.fetch(\r\n      `${uri}pokemon?limit=${limit}&offset=${offSet}`\r\n    );\r\n\r\n    const json = await response.json();\r\n\r\n    const promises = json.results.map(async (pokemon) => {\r\n      const res = await globalThis.fetch(pokemon.url);\r\n      const data = await res.json();\r\n      return data;\r\n    });\r\n\r\n    const results = await Promise.all(promises)\r\n    setRepositories(results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchRepositories();\r\n  }, []);\r\n\r\n \r\n\r\n  return repositories ;\r\n};\r\n\r\nexport default useRepositories;\r\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;EAC5B,gBAAwCF,QAAQ,CAAC,IAAD,CAAhD;EAAA;EAAA,IAAOG,YAAP;EAAA,IAAqBC,eAArB;;EACA,iBAA4BJ,QAAQ,CAAC,CAAD,CAApC;EAAA;EAAA,IAAOK,MAAP;EAAA,IAAeC,SAAf;;EACA,IAAMC,iBAAiB;IAAA,6BAAG,aAAuB;MAAA,IAAhBC,KAAgB,uEAAR,GAAQ;MAC/C,IAAIC,GAAG,GAAG,4BAAV;MAEA,IAAMC,QAAQ,SAASC,UAAU,CAACC,KAAX,CAClBH,GADkB,sBACED,KADF,gBACkBH,MADlB,CAAvB;MAIA,IAAMQ,IAAI,SAASH,QAAQ,CAACG,IAAT,EAAnB;MAEA,IAAMC,QAAQ,GAAGD,IAAI,CAACE,OAAL,CAAaC,GAAb;QAAA,8BAAiB,WAAOC,OAAP,EAAmB;UACnD,IAAMC,GAAG,SAASP,UAAU,CAACC,KAAX,CAAiBK,OAAO,CAACE,GAAzB,CAAlB;UACA,IAAMC,IAAI,SAASF,GAAG,CAACL,IAAJ,EAAnB;UACA,OAAOO,IAAP;QACD,CAJgB;;QAAA;UAAA;QAAA;MAAA,IAAjB;MAMA,IAAML,OAAO,SAASM,OAAO,CAACC,GAAR,CAAYR,QAAZ,CAAtB;MACAV,eAAe,CAACW,OAAD,CAAf;IACD,CAjBsB;;IAAA,gBAAjBR,iBAAiB;MAAA;IAAA;EAAA,GAAvB;;EAmBAN,SAAS,CAAC,YAAM;IACdM,iBAAiB;EAClB,CAFQ,EAEN,EAFM,CAAT;EAMA,OAAOJ,YAAP;AACD,CA7BD;;AA+BA,eAAeD,eAAf"},"metadata":{},"sourceType":"module"}